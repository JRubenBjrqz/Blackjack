const gameModule=(()=>{"use strict";let e=[],t=["C","D","H","S"],d=["A","J","Q","K"],s=[],l=document.querySelector("#hitButton"),a=document.querySelector("#standButton"),i=document.querySelector("#newGameButton"),r=document.querySelectorAll(".cardsDiv"),c=document.querySelectorAll("strong"),n=(t=2)=>{e=o(),s=[];for(let d=0;d<t;d++)s.push(0);c.forEach(e=>e.innerHTML=0),r.forEach(e=>e.innerHTML=""),l.disabled=!1,l.classList.add("disabled:opacity-75"),a.disabled=!1,a.classList.add("disabled:opacity-75")},o=()=>{e=[];for(let s=2;s<=10;s++)for(let l of t)e.push(s+l);for(let a of t)for(let i of d)e.push(i+a);return _.shuffle(e)},u=()=>{if(0===e.length)throw"Empty deck";return e.pop()},$=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},b=(e,t)=>(s[t]=s[t]+$(e),c[t].innerText=s[t],s[t]),p=(e,t)=>{let d=document.createElement("img");d.src=`assets/img/cards/${e}.png`,d.classList.add("card"),r[t].append(d)},y=()=>{let[e,t]=s;setTimeout(()=>{e===t?alert("Tie"):t>21?alert("PC Win"):e>21?alert("Player Win"):alert("PC Win")},250)},L=e=>{let t=0;do{let d=u();t=b(d,0),p(d,0)}while(t<e&&e<=21);y()};return l.addEventListener("click",()=>{let e=u(),t=b(e,s.length-1);p(e,s.length-1),t>21?(console.log("Loser"),l.disabled=!0,l.classList.add("disabled:opacity-75"),a.disabled=!0,a.classList.add("disabled:opacity-75"),L(t)):21===t&&(console.log("Winner"),l.disabled=!0,l.classList.add("disabled:opacity-75"),a.disabled=!0,a.classList.add("disabled:opacity-75"),L(t))}),a.addEventListener("click",()=>{l.disabled=!0,l.classList.add("disabled:opacity-75"),a.disabled=!0,a.classList.add("disabled:opacity-75"),L(s[0])}),i.addEventListener("click",()=>{n()}),{newGame:n}})();